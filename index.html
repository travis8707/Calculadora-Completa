<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Completa</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Nombre de la aplicación y botón de historial -->
        <div class="header">
            <h1>Calculadora Completa</h1>
            <button class="history-button" onclick="toggleHistoryPanel()">Historial</button>
        </div>

        <!-- Panel de historial (oculto por defecto) -->
        <div id="historyPanel" class="history-panel">
            <h2>Historial de Cálculos</h2>
            <ul id="historyList"></ul>
            <button onclick="clearHistory()">Limpiar Historial</button>
        </div>

        <!-- Pestañas para organizar funcionalidades -->
        <div class="tabs">
            <button class="tab-button active" onclick="openTab('manual')">Manual</button>
            <button class="tab-button" onclick="openTab('operations')">Operaciones</button>
        </div>

        <!-- Contenido de las pestañas -->
        <div id="manual" class="tab-content active">
            <!-- Resultado arriba del teclado -->
            <div class="result">
                <p id="result">0</p>
            </div>

            <!-- Panel de escritura manual -->
            <div class="input-group">
                <textarea id="manualInput" rows="2" placeholder="Escribe tu problema matemático"></textarea>
            </div>

            <!-- Teclado desplegable -->
            <div class="keyboard">
                <!-- Números y operaciones básicas -->
                <button onclick="insertText('1')">1</button>
                <button onclick="insertText('2')">2</button>
                <button onclick="insertText('3')">3</button>
                <button onclick="insertText('4')">4</button>
                <button onclick="insertText('5')">5</button>
                <button onclick="insertText('6')">6</button>
                <button onclick="insertText('7')">7</button>
                <button onclick="insertText('8')">8</button>
                <button onclick="insertText('9')">9</button>
                <button onclick="insertText('0')">0</button>
                <button onclick="insertText('+')">+</button>
                <button onclick="insertText('-')">-</button>
                <button onclick="insertText('*')">×</button>
                <button onclick="insertText('/')">÷</button>
                <button onclick="insertText('(')">(</button>
                <button onclick="insertText(')')">)</button>
                <button onclick="insertText('.')">.</button>

                <!-- Funciones avanzadas -->
                <button onclick="insertText('sqrt(')">v</button>
                <button onclick="insertText('^')">^</button>
                <button onclick="insertText('pi')">p</button>
                <button onclick="insertText('e')">e</button>
                <button onclick="insertText('log(')">log</button>
                <button onclick="insertText('ln(')">ln</button>
                <button onclick="insertText('sin(')">sin</button>
                <button onclick="insertText('cos(')">cos</button>
                <button onclick="insertText('tan(')">tan</button>

                <!-- Variables y potencias -->
                <button onclick="insertText('x')">x</button>
                <button onclick="insertText('y')">y</button>
                <button onclick="insertText('z')">z</button>
                <button onclick="insertText('x^2')">x²</button>
                <button onclick="insertText('^-1')">x?¹</button>
                <button onclick="insertText('^-2')">x?²</button>
                <button onclick="insertText('^-3')">x?³</button>

                <!-- Matrices -->
                <button onclick="insertText('[')">[</button>
                <button onclick="insertText(']')">]</button>
                <button onclick="insertText(',')">,</button>
                <button onclick="insertText(';')">;</button>

                <!-- Botones de borrado -->
                <button onclick="clearInput()" class="clear">C</button>
                <button onclick="deleteLastCharacter()" class="delete">?</button>
                <button onclick="calculateManual()" class="equals">=</button>
            </div>
        </div>

        <!-- Pestaña de operaciones predefinidas -->
        <div id="operations" class="tab-content">
            <div class="input-group">
                <label for="operation">Selecciona una operación:</label>
                <select id="operation">
                    <option value="sum">Suma</option>
                    <option value="subtract">Resta</option>
                    <option value="multiply">Multiplicación</option>
                    <option value="divide">División</option>
                    <option value="sqrt">Raíz Cuadrada</option>
                    <option value="power">Potencia</option>
                    <option value="quadratic">Ecuación Cuadrática</option>
                    <option value="area">Área</option>
                    <option value="radians">Grados a Radianes</option>
                    <option value="ln">Logaritmo Natural</option>
                    <option value="log10">Logaritmo Base 10</option>
                    <option value="prime">Número Primo</option>
                    <option value="fibonacci">Fibonacci</option>
                    <option value="gcd">Máximo Común Divisor</option>
                    <option value="lcm">Mínimo Común Múltiplo</option>
                    <option value="random">Número Aleatorio</option>
                    <option value="statistics">Media, Mediana, Moda</option>
                </select>
            </div>
            <div class="input-group" id="input1">
                <label for="num1">Número 1:</label>
                <input type="number" id="num1">
            </div>
            <div class="input-group" id="input2">
                <label for="num2">Número 2:</label>
                <input type="number" id="num2">
            </div>
            <div class="input-group" id="input3">
                <label for="num3">Número 3 (para ecuación cuadrática):</label>
                <input type="number" id="num3">
            </div>
            <button onclick="calculate()">Calcular</button>
            <div class="result">
                <h2>Resultado:</h2>
                <p id="resultPredefined"></p>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>